import { StickyHeader } from "./StickyHeader"
import { ContentZone } from "./ContentZone"
import Head from 'next/head'
import Image from 'next/image'
import { useState, createContext, Children, useContext } from "react"
import { MobileMenu } from "./MobileMenu"

const MyChattanoogaContext = createContext();

export const MyChattanoogaProvider = ({ children }) => {
    const [isExpanded, setIsExpanded] = useState(false)
    const [isDark, setDark] = useState(true)
    const [isFaded, fadeMenu] = useState(false)

    function toggleMenu() {
        setIsExpanded(isExpanded => !isExpanded)
        console.log(isExpanded)
    }
    function toggleDark() {
        setDark(isDark => !isDark)
        console.log(isDark)
    }

    const value = {
        isExpanded: {isExpanded},
        toggleMenu: {toggleMenu}
    }

    return (
        <MyChattanoogaContext.Provider value={value}>
            <div className="flex flex-col h-screen overscroll-contain">
                <Head>
                        <title>myChattanooga</title>
                        <meta name="description" content="Generated by create next app" key="siteDescription"/>
                        <link rel="icon" href="/favicon.ico" />
                </Head>

                <header className="relative w-screen ">
                    <StickyHeader isDark />
                </header>

                <main className="w-screen h-screen bg-green-300 overflow-y-scroll px-8 pb-8 pt-4 align-center" >
                    <div className="sm:hidden fixed h-fit w-1/2 object-center right-0">
                        <MobileMenu isExpanded={isExpanded} />
                    </div>
                    <div className="scroll-smooth">
                        {children}
                    </div>
                </main>

                <footer className="flex items-center w-screen">
                        
                    <div className="flex-auto w-full">
                        Hi
                    </div>
                        
                </footer>
            </div>
        </MyChattanoogaContext.Provider>
    )
}

export default MyChattanoogaContext
